<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="assets/logo.ico">
    <title>Ponlork Sok</title>
    <!-- Tailwind CSS CDN script -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome for icons (hamburger menu and slider icons) -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <!-- Inter font from Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <!-- Vue 3 CDN -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
      body {
        font-family: 'Inter', sans-serif;
        /* Page background image */
        background-image: url('/assets/angkor.webp'); /* Placeholder image */
        background-size: cover;
        background-position: center;
        background-attachment: fixed; /* Keeps background fixed during scroll */
        background-repeat: no-repeat;
      }
      /* Custom styles for smoother mobile menu transition */
      .mobile-menu-transition {
        transition: max-height 0.3s ease-out, opacity 0.3s ease-out;
        max-height: 0;
        overflow: hidden;
        opacity: 0;
      }
      .mobile-menu-transition.open {
        max-height: 300px; /* Adjust based on content height */
        opacity: 1;
      }
      /* Custom background for Home section title area removed */
      .home-title-bg {
        /* background-image removed */
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
      }
    </style>
  </head>
  <body>
    <!-- Main container with Inter font and responsive padding -->
    <div id="app" class="font-sans text-gray-800 min-h-screen flex flex-col">

    <!-- Navigation Bar -->
    <nav class="bg-white py-4 px-6 md:px-12 sticky top-0 z-50">
      <div class="container mx-auto flex justify-between items-center">
        <!-- Logo/Brand Name -->
        <a href="#" class="text-3xl font-extrabold text-blue-700 rounded-lg p-2 hover:text-blue-800 transition duration-300 transform hover:scale-105">
          Ponlork Sok
        </a>

        <!-- Desktop Navigation Links -->
        <div class="hidden md:flex space-x-8 items-center">
          <a href="#home"
             :class="['text-gray-700 hover:text-blue-600 font-medium transition duration-300 relative group', { 'text-blue-800 !font-bold': currentSection === 'home' }]"
             @click="currentSection = 'home'">
            {{ t.nav.home }}
            <span :class="['absolute bottom-0 left-0 w-full h-0.5 bg-blue-600 transition-transform duration-300', { 'scale-x-100': currentSection === 'home', 'scale-x-0 group-hover:scale-x-100': currentSection !== 'home' }]"></span>
          </a>
          <a href="#about"
             :class="['text-gray-700 hover:text-blue-600 font-medium transition duration-300 relative group', { 'text-blue-800 !font-bold': currentSection === 'about' }]"
             @click="currentSection = 'about'">
            {{ t.nav.about }}
            <span :class="['absolute bottom-0 left-0 w-full h-0.5 bg-blue-600 transition-transform duration-300', { 'scale-x-100': currentSection === 'about', 'scale-x-0 group-hover:scale-x-100': currentSection !== 'about' }]"></span>
          </a>
          <a href="#services"
             :class="['text-gray-700 hover:text-blue-600 font-medium transition duration-300 relative group', { 'text-blue-800 !font-bold': currentSection === 'services' }]"
             @click="currentSection = 'services'">
            {{ t.nav.services }}
            <span :class="['absolute bottom-0 left-0 w-full h-0.5 bg-blue-600 transition-transform duration-300', { 'scale-x-100': currentSection === 'services', 'scale-x-0 group-hover:scale-x-100': currentSection !== 'services' }]"></span>
          </a>
          <a href="#contact"
             :class="['text-gray-700 hover:text-blue-600 font-medium transition duration-300 relative group', { 'text-blue-800 !font-bold': currentSection === 'contact' }]"
             @click="currentSection = 'contact'">
            {{ t.nav.contact }}
            <span :class="['absolute bottom-0 left-0 w-full h-0.5 bg-blue-600 transition-transform duration-300', { 'scale-x-100': currentSection === 'contact', 'scale-x-0 group-hover:scale-x-100': currentSection !== 'contact' }]"></span>
          </a>
          <!-- Language Toggle Button -->
          <button
            @click="toggleLanguage"
            class="bg-gradient-to-r from-blue-500 to-blue-600 text-white px-5 py-2.5 rounded-full hover:from-blue-600 hover:to-blue-700 transition duration-300 shadow-lg transform hover:scale-105"
          >
            {{ t.nav.langToggle }}
          </button>
        </div>

        <!-- Mobile Menu Button (Hamburger) -->
        <div class="md:hidden flex items-center">
          <button
            @click="isNavOpen = !isNavOpen"
            class="text-gray-700 hover:text-blue-600 focus:outline-none focus:text-blue-600 p-2 rounded-md transition duration-300"
          >
            <i :class="`${isNavOpen ? 'fas fa-times' : 'fas fa-bars'} text-2xl`"></i>
          </button>
        </div>
      </div>

      <!-- Mobile Navigation Menu -->
      <div :class="['md:hidden mt-4 space-y-2 px-4 pb-4 bg-white shadow-inner mobile-menu-transition', { 'open': isNavOpen }]">
        <a
          href="#home"
          @click="isNavOpen = false; currentSection = 'home'"
          class="block text-gray-700 hover:text-blue-600 font-medium py-2 px-3 rounded-md transition duration-300 hover:bg-gray-100"
        >
          {{ t.nav.home }}
        </a>
        <a
          href="#about"
          @click="isNavOpen = false; currentSection = 'about'"
          class="block text-gray-700 hover:text-blue-600 font-medium py-2 px-3 rounded-md transition duration-300 hover:bg-gray-100"
        >
          {{ t.nav.about }}
        </a>
        <a
          href="#services"
          @click="isNavOpen = false; currentSection = 'services'"
          class="block text-gray-700 hover:text-blue-600 font-medium py-2 px-3 rounded-md transition duration-300 hover:bg-gray-100"
        >
          {{ t.nav.services }}
        </a>
        <a
          href="#contact"
          @click="isNavOpen = false; currentSection = 'contact'"
          class="block text-gray-700 hover:text-blue-600 font-medium py-2 px-3 rounded-md transition duration-300 hover:bg-gray-100"
        >
          {{ t.nav.contact }}
        </a>
        <button
          @click="toggleLanguageAndCloseNav"
          class="w-full text-left bg-gradient-to-r from-blue-500 to-blue-600 text-white px-4 py-2 rounded-lg hover:from-blue-600 hover:to-blue-700 transition duration-300 shadow-md mt-2"
        >
          {{ t.nav.langToggle }}
          </button>
      </div>
    </nav>

    <!-- Main Content Area -->
    <main class="flex-grow container mx-auto px-6 py-4 md:py-6">
      <!-- Home Section -->
      <section
        id="home"
        :ref="el => setSectionRef(el, 'home')"
        class="mb-1 flex flex-col items-center justify-center text-center relative overflow-hidden"
      >
        <!-- Background image for the title area -->
        <div class="w-full home-title-bg relative overflow-hidden flex flex-col items-center justify-center py-16 md:py-24">
          <!-- Overlay for readability -->
          <div class="absolute inset-0 bg-black opacity-0 z-0"></div>
          <!-- Removed the h2 tag for the title -->
        </div>

        <!-- Slider content section -->
        <div class="relative w-[90%] overflow-hidden rounded-xl shadow-inner bg-blue-50 bg-opacity-80 p-6 border border-blue-200 relative z-10 mt-8">
          <div class="flex transition-transform duration-500 ease-in-out"
               :style="{ transform: `translateX(-${currentSlide * 100}%)` }">
            <div v-for="(activity, index) in t.home.activities" :key="index" class="w-full flex-shrink-0 flex flex-col items-center justify-center py-8">
              <!-- Replaced img with icon -->
              <i :class="`${activity.icon} text-6xl md:text-7xl text-blue-600 mb-4`"></i>
              <h3 class="text-xl md:text-2xl font-semibold text-gray-800 mb-2">{{ activity.title }}</h3>
              <p class="text-gray-700 text-base md:text-lg">{{ activity.description }}</p>
            </div>
          </div>
          <!-- Slider Navigation Buttons -->
          <button
            @click="prevSlideManual"
            class="absolute left-0 top-1/2 -translate-y-1/2 bg-blue-600 text-white p-3.5 rounded-full shadow-lg hover:bg-blue-700 transition duration-300 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-75 ml-2 transform hover:scale-110"
            :aria-label="t.home.prev"
          >
            <i class="fas fa-chevron-left"></i>
          </button>
          <button
            @click="nextSlideManual"
            class="absolute right-0 top-1/2 -translate-y-1/2 bg-blue-600 text-white p-3.5 rounded-full shadow-lg hover:bg-blue-700 transition duration-300 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-75 mr-2 transform hover:scale-110"
            :aria-label="t.home.next"
          >
            <i class="fas fa-chevron-right"></i>
          </button>
        </div>
      </section>

      <!-- About Me Section -->
      <section
        id="about"
        :ref="el => setSectionRef(el, 'about')"
        class="p-8 md:p-12 mb-1"
      >
        <h2 class="text-3xl md:text-4xl font-bold text-blue-700 mb-8 text-center drop-shadow-sm">
          {{ t.about.title }}
        </h2>

        <!-- Photo Section -->
        <div class="flex justify-center mb-8">
          <img
            src="assets/me.jpg"
            alt="Your Photo"
            class="rounded-full w-48 h-48 object-cover shadow-lg border-4 border-blue-200 transform hover:scale-105 transition-transform duration-300"
            onerror="this.onerror=null; this.src='https://placehold.co/200x200/ADD8E6/000000?text=Image+Error';"
          />
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">

        <!-- Basic Info Paragraph -->
        <div class="bg-green-50 p-10 rounded-xl shadow-lg border border-green-200 transform hover:scale-105 transition-transform duration-300 md:col-span-4">
            {{ t.about.basicInfo }}
        </div>

          <!-- Education -->
          <div class="bg-green-50 p-10 rounded-xl shadow-lg border border-green-200 transform hover:scale-105 transition-transform duration-300 md:col-span-2">
            <h3 class="text-2xl font-semibold text-blue-600 mb-4 flex items-center">
              <i class="fas fa-graduation-cap text-blue-500 mr-3"></i>
              {{ t.about.educationTitle }}
            </h3>
            <ul class="list-disc list-inside space-y-2 text-gray-700">
              <li v-for="(item, index) in t.about.education" :key="index">{{ item }}</li>
            </ul>
          </div>

          <!-- Skills -->
          <div class="bg-green-50 p-10 rounded-xl shadow-lg border border-green-200 transform hover:scale-105 transition-transform duration-300 md:col-span-2">
            <h3 class="text-2xl font-semibold text-purple-600 mb-4 flex items-center">
              <i class="fas fa-lightbulb text-purple-500 mr-3"></i>
              {{ t.about.skillsTitle }}
            </h3>
            <ul class="list-disc list-inside space-y-2 text-gray-700">
              <li v-for="(item, index) in t.about.skills" :key="index">{{ item }}</li>
            </ul>
          </div>

          <!-- Experiences -->
          <div class="bg-green-50 p-10 rounded-xl shadow-lg border border-green-200 transform hover:scale-105 transition-transform duration-300 md:col-span-4">
            <h3 class="text-2xl font-semibold text-green-600 mb-4 flex items-center">
              <i class="fas fa-briefcase text-green-500 mr-3"></i>
              {{ t.about.experienceTitle }}
            </h3>
            <ul class="list-disc list-inside space-y-2 text-gray-700">
              <li v-for="(item, index) in t.about.experience" :key="index">{{ item }}</li>
            </ul>
          </div>

        </div>
      </section>

      <!-- My Services Section -->
      <section
        id="services"
        :ref="el => setSectionRef(el, 'services')"
        class="p-8 md:p-12 mb-1"
      >
        <h2 class="text-3xl md:text-4xl font-bold text-blue-700 mb-8 text-center drop-shadow-sm">
          {{ t.services.title }}
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          <div
            v-for="(service, index) in t.services.list"
            :key="index"
            class="bg-yellow-50 p-8 rounded-xl shadow-lg flex flex-col items-center text-center border border-yellow-200 transform hover:scale-105 transition-transform duration-300 group">
            <!-- Placeholder icon - replace with actual icons if desired -->
            <div class="text-5xl text-yellow-600 mb-4 group-hover:text-yellow-700 transition-colors duration-300">
              <i v-if="index === 0" class="fas fa-code"></i>
              <i v-else-if="index === 1" class="fas fa-database"></i>
              <i v-else-if="index === 2" class="fas fa-chart-line"></i>
            </div>
            <h3 class="text-xl font-semibold text-yellow-700 group-hover:text-yellow-800 transition-colors duration-300 mb-2">
              {{ service.name }}
            </h3>
            <p class="text-gray-600 text-sm">{{ service.description }}</p>
          </div>
        </div>
      </section>

      <!-- Contact Us Section -->
      <section
        id="contact"
        :ref="el => setSectionRef(el, 'contact')"
        class="p-8 md:p-12 mb-1"
      >
        <h2 class="text-3xl md:text-4xl font-bold text-blue-700 mb-8 text-center drop-shadow-sm">
          {{ t.contact.title }}
        </h2>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
          <!-- Address -->
          <div class="bg-indigo-50 p-8 rounded-xl shadow-lg border border-indigo-200 flex flex-col justify-center items-center text-center transform hover:scale-105 transition-transform duration-300">
            <h3 class="text-2xl font-semibold text-indigo-600 mb-4 flex items-center">
              <i class="fas fa-map-marker-alt text-indigo-500 mr-3"></i>
              {{ t.contact.addressTitle }}
            </h3>
            <p class="text-gray-700 text-lg space-y-2">
                <span class="block">Phnom Penh, Cambodia</span>
                <span class="block"><i class="fas fa-phone-alt mr-2"></i>+855 93 442 802</span>
                <span class="block"><i class="fab fa-telegram-plane mr-2"></i>@PonlorkSok</span>
                <span class="block"><i class="fab fa-facebook-f mr-2"></i>fb.com/PonlorkSok</span>
                <span class="block"><i class="fas fa-envelope mr-2"></i>sok.ponlork@gmail.com</span>
            </p>
          </div>

          <!-- Feedback Form -->
          <div class="bg-red-50 p-8 rounded-xl shadow-lg border border-red-200">
            <h3 class="text-2xl font-semibold text-red-600 mb-4 text-center">
              {{ t.contact.feedbackTitle }}
            </h3>
            <form @submit.prevent="handleFeedbackSubmit" class="space-y-4">
              <div>
                <label for="name" class="sr-only">
                  {{ t.contact.namePlaceholder }}
                </label>
                <input
                  type="text"
                  id="name"
                  class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-200 shadow-sm"
                  :placeholder="t.contact.namePlaceholder"
                  v-model="feedbackName"
                  required
                />
              </div>
              <div>
                <label for="email" class="sr-only">
                  {{ t.contact.emailPlaceholder }}
                </label>
                <input
                  type="email"
                  id="email"
                  class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-200 shadow-sm"
                  :placeholder="t.contact.emailPlaceholder"
                  v-model="feedbackEmail"
                  required
                />
              </div>
              <div>
                <label for="message" class="sr-only">
                  {{ t.contact.messagePlaceholder }}
                </label>
                <textarea
                  id="message"
                  rows="5"
                  class="w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-200 shadow-sm"
                  :placeholder="t.contact.messagePlaceholder"
                  v-model="feedbackMessage"
                  required
                ></textarea>
              </div>
              <button
                type="submit"
                class="w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white py-3 rounded-lg font-semibold hover:from-blue-700 hover:to-blue-800 transition duration-300 shadow-lg transform hover:scale-105"
              >
                {{ t.contact.submitButton }}
              </button>
            </form>
            <p v-if="showThankYou" class="mt-4 text-center text-green-600 font-medium animate-pulse">
              {{ t.contact.thankYou }}
            </p>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-6 px-6 md:px-12 mt-auto">
      <div class="container mx-auto text-center text-gray-400">
        <p>{{ t.footer }}</p>
      </div>
    </footer>
    </div>

    <script>
      // Import Vue 3 functions from the global Vue object available via CDN
      const { ref, computed, createApp, onMounted, onUnmounted } = Vue;

      createApp({
        setup() {
          // State for current language (en for English, km for Khmer)
          const lang = ref('en');
          // State for mobile navigation menu visibility
          const isNavOpen = ref(false);
          // State for the current slide index in the Home section
          const currentSlide = ref(0);
          // Variable to hold the interval ID for auto-sliding
          let slideInterval = null;
          // State for the currently active section in the navigation
          const currentSection = ref('home'); // Default active section
          // Reactive object to store references to section DOM elements
          const sectionRefs = ref({});
          // Intersection Observer instance
          let observer = null;

          // Translations object for different content sections
          const translations = {
            en: {
              nav: {
                home: 'Home',
                about: 'About Me',
                services: 'My Services',
                contact: 'Contact Us',
                langToggle: 'Khmer',
              },
              home: {
                activities: [
                  { title: 'Developing Web Applications', description: 'Crafting responsive and dynamic web experiences.', icon: 'fas fa-laptop-code' },
                  { title: 'Building Data Pipelines', description: 'Designing efficient and scalable data integration solutions.', icon: 'fas fa-cogs' },
                  { title: 'Analyzing Data for Insights', description: 'Extracting valuable information and patterns from complex datasets.', icon: 'fas fa-chart-bar' },
                  { title: 'Creating User Interfaces', description: 'Focusing on intuitive and visually appealing user experiences.', icon: 'fas fa-paint-brush' },
                  { title: 'Optimizing Database Performance', description: 'Ensuring fast and reliable data access for applications.', icon: 'fas fa-database' },
                ],
                prev: 'Previous',
                next: 'Next',
              },
              about: {
                title: 'About Me',
                basicInfo: 'Hello! I am Ponlork Sok, from Takeo province, 1981. A passionate software developer and data enthusiast with a strong background in building robust web applications and designing efficient data solutions. I thrive on solving complex problems and transforming data into actionable insights. My journey in technology has equipped me with a diverse skill set, allowing me to contribute effectively to various stages of software and data lifecycles.',
                educationTitle: 'Education',
                education: [
                  'Master of Data Science, 2026, RUPP',
                  'Software Development, 2025, CADT',
                  'Bachelor of Computer Science, 2003, RUPP',
                  'Bac II, 1999,',
                ],
                experienceTitle: 'Experiences',
                experience: [
                  'Software Developer, NIPH, Today',
                  'Data Management, CWCC, 2018',
                  'GIS officer, MLUC, 2005',
                ],
                skillsTitle: 'Skills',
                skills: [
                  'Software Engineering',
                  'Software Development',
                  'Data Engineering',
                  'Data Science',
                  'PHP',
                  'VueJS',
                  'Python',
                  'MySQL',
                  'SQL Server',
                  'Oracle',
                ],
              },
              services: {
                title: 'My Services',
                list: [
                  { name: 'Software Development', description: 'Crafting high-quality, scalable, and maintainable software solutions tailored to your needs.' },
                  { name: 'Data Engineering', description: 'Designing, building, and maintaining robust data pipelines and infrastructure for efficient data flow.' },
                  { name: 'Data Science', description: 'Extracting valuable insights from complex datasets using advanced analytical techniques and machine learning.' },
                ],
              },
              contact: {
                title: 'Contact Us',
                addressTitle: 'Address',
                address: `Phnom Penh, Cambodia`,
                feedbackTitle: 'Feedback Form',
                namePlaceholder: 'Your Name',
                emailPlaceholder: 'Your Email',
                messagePlaceholder: 'Your Message',
                submitButton: 'Send Message',
                thankYou: 'Thank you for your feedback! We will get back to you soon.',
              },
              footer: '© 2025 Ponlork Sok. All rights reserved.',
            },
            km: {
              nav: {
                home: 'ទំព័រដើម',
                about: 'អំពីខ្ញុំ',
                services: 'សេវាកម្មរបស់ខ្ញុំ',
                contact: 'ទំនាក់ទំនង',
                langToggle: 'English',
              },
              home: {
                activities: [
                  { title: 'ការអភិវឌ្ឍន៍កម្មវិធីគេហទំព័រ', description: 'បង្កើតបទពិសោធន៍គេហទំព័រដែលមានការឆ្លើយតប និងថាមវន្ត។', icon: 'fas fa-laptop-code' },
                  { title: 'ការកសាងបំពង់ទិន្នន័យ', description: 'រចនាដំណោះស្រាយការរួមបញ្ចូលទិន្នន័យដែលមានប្រសិទ្ធភាព និងអាចពង្រីកបាន។', icon: 'fas fa-cogs' },
                  { title: 'ការវិភាគទិន្នន័យដើម្បីទទួលបានការយល់ដឹង', description: 'ទាញយកព័ត៌មាន និងលំនាំដ៏មានតម្លៃពីសំណុំទិន្នន័យស្មុគស្មាញ។', icon: 'fas fa-chart-bar' },
                  { title: 'ការបង្កើតចំណុចប្រទាក់អ្នកប្រើ', description: 'ផ្តោតលើបទពិសោធន៍អ្នកប្រើប្រាស់ដែលងាយស្រួលប្រើ និងទាក់ទាញភ្នែក។', icon: 'fas fa-paint-brush' },
                  { title: 'បង្កើនប្រសិទ្ធភាពមូលដ្ឋានទិន្នន័យ', description: 'ធានាការចូលប្រើទិន្នន័យលឿន និងអាចទុកចិត្តបានសម្រាប់កម្មវិធី។', icon: 'fas fa-database' },
                ],
                prev: 'មុន',
                next: 'បន្ទាប់',
              },
              about: {
                title: 'អំពីខ្ញុំ',
                basicInfo: 'សួស្តី! ខ្ញុំបាទ សុខ ពន្លក មកពីខេត្តតាកែវ កើតឆ្នាំ ១៩៨១។ ជាអ្នកអភិវឌ្ឍន៍កម្មវិធី និងជាអ្នកចូលចិត្តទិន្នន័យ ដែលមានបទពិសោធន៍យ៉ាងរឹងមាំក្នុងការកសាងកម្មវិធីគេហទំព័រ និងរកដំណោះស្រាយទិន្នន័យប្រកបដោយប្រសិទ្ធភាព។ ខ្ញុំរីករាយនឹងការដោះស្រាយបញ្ហាស្មុគស្មាញ និងការបំប្លែងទិន្នន័យទៅជាការយល់ដឹងដែលអាចអនុវត្តបាន ជំនួយដល់ការធ្វើផែនការណ៍ ការសម្រេចចិត្តបានត្រឹមត្រូវក្នុងអាជីវកម្មរបស់លោកអ្នក។',
                educationTitle: 'ការអប់រំ',
                education: [
                  'បរិញ្ញាបត្រជាន់ខ្ពស់វិទ្យាសាស្ត្រទិន្នន័យ',
                  'បរិញ្ញាបត្រវិទ្យាសាស្ត្រកុំព្យូទ័រ និងវិស្វកម្ម',
                  'មធ្យមសិក្សា បាក់ដុប',
                ],
                experienceTitle: 'បទពិសោធន៍',
                experience: [
                  'អ្នកអភិវឌ្ឍន៍កម្មវិធីជាន់ខ្ពស់នៅ NIPH',
                  'ការគ្រប់គ្រងទិន្នន័យនៅ CWCC',
                  'អ្នកបច្ចេកទេស GIS នៅ MLUC',
                ],
                skillsTitle: 'ជំនាញ',
                skills: [
                  'វិស្វកម្មកម្មវិធី',
                  'វិស្វកម្មទិន្នន័យ',
                  'វិទ្យាសាស្ត្រទិន្នន័យ',
                  'PHP',
                  'VueJS',
                  'Python',
                  'MySQL',
                  'SQL Server',
                  'Oracle',
                ],
              },
              services: {
                title: 'My Services',
                list: [
                  { name: 'Software Development', description: 'Crafting high-quality, scalable, and maintainable software solutions tailored to your needs.' },
                  { name: 'Data Engineering', description: 'Designing, building, and maintaining robust data pipelines and infrastructure for efficient data flow.' },
                  { name: 'Data Science', description: 'Extracting valuable insights from complex datasets using advanced analytical techniques and machine learning.' },
                ],
              },
              contact: {
                title: 'ទំនាក់ទំនង',
                addressTitle: 'អាសយដ្ឋាន',
                address: `ភ្នំពេញ, កម្ពុជា`,
                feedbackTitle: 'ទម្រង់មតិកែលម្អ',
                namePlaceholder: 'ឈ្មោះរបស់អ្នក',
                emailPlaceholder: 'អ៊ីមែលរបស់អ្នក',
                messagePlaceholder: 'សាររបស់អ្នក',
                submitButton: 'ផ្ញើសារ',
                thankYou: 'សូមអរគុណសម្រាប់មតិកែលម្អរបស់អ្នក! យើងនឹងទាក់ទងអ្នកឆាប់ៗនេះ។',
              },
              footer: '© 2025 Ponlork Sok. រក្សាសិទ្ធិគ្រប់យ៉ាង។',
            },
          };

          // Get current language content using computed property for reactivity
          const t = computed(() => translations[lang.value]);

          // Function to toggle language
          const toggleLanguage = () => {
            lang.value = lang.value === 'en' ? 'km' : 'en';
          };

          // Function to toggle language and close mobile nav
          const toggleLanguageAndCloseNav = () => {
            toggleLanguage();
            isNavOpen.value = false;
          };

          // Function to navigate to the next slide (auto or manual)
          const nextSlide = () => {
            currentSlide.value = (currentSlide.value + 1) % t.value.home.activities.length;
          };

          // Function to navigate to the previous slide (auto or manual)
          const prevSlide = () => {
            currentSlide.value =
              currentSlide.value === 0 ? t.value.home.activities.length - 1 : currentSlide.value - 1;
          };

          // Function to start the auto-slide interval
          const startAutoSlide = () => {
            // Clear any existing interval to prevent multiple intervals running
            if (slideInterval) {
              clearInterval(slideInterval);
            }
            slideInterval = setInterval(nextSlide, 5000); // Change slide every 5 seconds
          };

          // Function for manual next slide, restarts auto-slide
          const nextSlideManual = () => {
            nextSlide();
            startAutoSlide(); // Restart the timer
          };

          // Function for manual previous slide, restarts auto-slide
          const prevSlideManual = () => {
            prevSlide();
            startAutoSlide(); // Restart the timer
          };

          // Function to set section refs dynamically
          const setSectionRef = (el, id) => {
            if (el) {
              sectionRefs.value[id] = el;
            }
          };

          // State for feedback form fields
          const feedbackName = ref('');
          const feedbackEmail = ref('');
          const feedbackMessage = ref('');
          const showThankYou = ref(false);

          // Handle feedback form submission
          const handleFeedbackSubmit = () => {
            // In a real application, you would send this data to a backend.
            console.log({
              name: feedbackName.value,
              email: feedbackEmail.value,
              message: feedbackMessage.value,
            });
            // Clear form fields
            feedbackName.value = '';
            feedbackEmail.value = '';
            feedbackMessage.value = '';
            // Show thank you message
            showThankYou.value = true;
            // Hide thank you message after a few seconds
            setTimeout(() => {
              showThankYou.value = false;
            }, 5000);
          };

          // Start auto-slide and setup Intersection Observer when the component is mounted
          onMounted(() => {
            startAutoSlide();

            const observerOptions = {
              root: null, // viewport
              rootMargin: '0px',
              threshold: 0.5, // 50% of the section must be visible to be considered active
            };

            observer = new IntersectionObserver((entries) => {
              entries.forEach(entry => {
                if (entry.isIntersecting) {
                  currentSection.value = entry.target.id;
                }
              });
            }, observerOptions);

            // Observe each section
            // Ensure sectionRefs are populated before observing
            // A small timeout can help if DOM elements aren't immediately ready
            setTimeout(() => {
              for (const id in sectionRefs.value) {
                if (sectionRefs.value[id]) {
                  observer.observe(sectionRefs.value[id]);
                }
              }
            }, 100); // Give a small delay for DOM to render
          });

          // Clear intervals and disconnect observer when the component is unmounted
          onUnmounted(() => {
            if (slideInterval) {
              clearInterval(slideInterval);
            }
            if (observer) {
              observer.disconnect();
            }
          });

          return {
            lang,
            isNavOpen,
            currentSlide,
            t,
            toggleLanguage,
            toggleLanguageAndCloseNav,
            nextSlideManual,
            prevSlideManual,
            feedbackName,
            feedbackEmail,
            feedbackMessage,
            showThankYou,
            handleFeedbackSubmit,
            currentSection, // Expose currentSection to the template
            setSectionRef, // Expose setSectionRef to the template
          };
        },
      }).mount('#app');
    </script>
  </body>
</html>
